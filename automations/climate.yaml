# https://github.com/home-assistant/home-assistant/issues/4525
#Ok, The output is controlled via the light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level_6_0
# https://www.planete-domotique.com/notices/Q/QUBINO/Qubino_Flush%20Pilot%20Wire_PLUS_user%20manual_V1.1_fra.pdf
# https://www.12h26.com/archives/gerer-qubino-flush-pilot-wire-home-asistant
#So:
#0 is Stop
#15 is Anti-Freeze
#25 is Eco
#35 is Comfort -2
#45 is Comfort -1
#100 is Comfort
#This is not a bug, but how this device is made.
#

  - alias: 'Qubino Radiateur - Parents'
    trigger:
      platform: state
      entity_id: input_select.qubino_bedroom_parents
    action:
      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level_2
      service: light.turn_on
      data_template:
        brightness: >
          {% if is_state("input_select.qubino_bedroom_parents", "Comfort") %}
            230
          {% elif is_state("input_select.qubino_bedroom_parents", "Comfort -1") %}
            105
          {% elif is_state("input_select.qubino_bedroom_parents", "Comfort -2") %}
            79 
          {% elif is_state("input_select.qubino_bedroom_parents", "Eco") %}
            54 
          {% elif is_state("input_select.qubino_bedroom_parents", "Anti-Freeze") %}
            28
          {% elif is_state("input_select.qubino_bedroom_parents", "Stop") %}
             0
          {% else %}
             0
          {% endif %}



  - alias: 'Qubino Radiateur - Baby'
    trigger:
      platform: state
      entity_id: input_select.qubino_bedroom_baby
    action:
      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
      service: light.turn_on
      data_template:
        brightness: >
          {% if is_state("input_select.qubino_bedroom_baby", "Comfort") %}
            230
          {% elif is_state("input_select.qubino_bedroom_baby", "Comfort -1") %}
            105
          {% elif is_state("input_select.qubino_bedroom_baby", "Comfort -2") %}
            79
          {% elif is_state("input_select.qubino_bedroom_baby", "Eco") %}
            54
          {% elif is_state("input_select.qubino_bedroom_baby", "Anti-Freeze") %}
            28 
          {% elif is_state("input_select.qubino_bedroom_baby", "Stop") %}
             0
          {% else %}
             0
          {% endif %}

#
## Baby Bedroom
#
#  - alias: 'Qubino: Baby - Comfort'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Comfort'
#    action:
#      service: light.turn_on
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#      data:
#        brightness: 100
#
#  - alias: 'Qubino: Baby - Comfort -1'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Comfort -1'
#    action:
#      service: light.turn_on
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#      data:
#        brightness: 45
#
#  - alias: 'Qubino: Baby - Comfort -2'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Comfort -2'
#    action:
#      service: light.turn_on
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#      data:
#        brightness: 35
#
#  - alias: 'Qubino: Baby - Eco'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Eco'
#    action:
#      service: light.turn_on
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#      data:
#        brightness: 25
#
#  - alias: 'Qubino: Baby - Anti-Freeze'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Anti-Freeze'
#    action:
#      service: light.turn_on
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#      data:
#        brightness: 15
#
#  - alias: 'Qubino: Baby - Stop'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_baby
#      to: 'Off'
#    action:
#      service: light.turn_off
#      entity_id: light.qubino_zmnhjd1_flush_dimmer_pilot_wire_level
#
## Parental Bedroom
#
#  - alias: 'Qubino: Parents - Comfort'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Comfort'
#    action:
#      service: light.turn_on
#      entity_id: light.unknown_node_5_level_2
#      data:
#        brightness: 100
#
#  - alias: 'Qubino: Parents - Comfort -1'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Comfort -1'
#    action:
#      service: light.turn_on
#      entity_id: light.unknown_node_5_level_2
#      data:
#        brightness: 45
#
#  - alias: 'Qubino: Parents - Comfort -2'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Comfort -2'
#    action:
#      service: light.turn_on
#      entity_id: light.unknown_node_5_level_2
#      data:
#        brightness: 35
#
#  - alias: 'Qubino: Parents - Eco'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Eco'
#    action:
#      service: light.turn_on
#      entity_id: light.unknown_node_5_level_2
#      data:
#        brightness: 25
#
#  - alias: 'Qubino: Parents - Anti-Freeze'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Anti-Freeze'
#    action:
#      service: light.turn_on
#      entity_id: light.unknown_node_5_level_2
#      data:
#        brightness: 15
#
#  - alias: 'Qubino: Parents - Stop'
#    trigger:
#      platform: state
#      entity_id: input_select.qubino_bedroom_parents
#      to: 'Off'
#    action:
#      service: light.turn_off
#      entity_id: light.unknown_node_5_level_2
#
#
